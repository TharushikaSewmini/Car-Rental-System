<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Login</title>

    <link rel="icon" href="assets/images/logo.png">
    <meta content="width=device-width initial-scale=1" name="viewport">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/css/all.min.css">

    <link href="assets/styles/CustomerLoginForm.css" rel="stylesheet">
</head>
<body>
<main class="container-fluid" id="loginFormContainer">
    <div class="card" style="width: 70rem; height: 35rem">
        <div class="card-img-top mx-auto" style="width: 85%;" id="lImage">
            <img src="assets/images/Car.png" id="loginImage" alt="Login Page Image">
        </div>
        <div class="card-body">
            <h1 class="card-title mt-4">Sign in</h1>
            <form class="row g-4 mt-3">
                <div class="col-md-11">
                    <label for="inputUserName" class="form-label">User Name</label>
                    <input type="text" class="form-control" id="inputUserName">
                </div>
                <div class="col-md-11">
                    <label for="inputPassword" class="form-label">Password</label>
                    <input type="password" class="form-control" id="inputPassword">
                </div>
            </form>
            <button type="button" class="btn btn-primary col-md-11 mt-4 mb-3 mx-auto" id="btnLogin">Login</button>
            <a href="#" class="card-link">Forgot Password?</a>
            <h6 class="mt-5">Don't have an Account?
                <a href="#" class="card-link mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal" id="lnkSignUpForm">Sign Up</a></h6>
        </div>
    </div>


    <!--SignUp Form-->
    <section id="signUpForm">
        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content px-4">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Sign Up</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form class="row g-3" id="customerRegisterForm">
                            <div class="col-md-6">
                                <label for="txtCustomerName" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="txtCustomerName" placeholder="Nimal Perera" name="name">
                            </div>
                            <div class="col-6">
                                <label for="txtCustomerAddress" class="form-label">Address</label>
                                <input type="text" class="form-control" id="txtCustomerAddress" placeholder="1234 Main St" name="address">
                            </div>
                            <div class="col-6">
                                <label for="txtCustomerContact" class="form-label">Contact No</label>
                                <input type="text" class="form-control" id="txtCustomerContact" placeholder="0712834555" name="contact">
                            </div>

                            <div class="col-md-6">
                                <label for="txtCustomerEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="txtCustomerEmail" placeholder="nimal50@gmail.com" name="email">
                            </div>
                            <div class="col-md-6">
                                <label for="txtCustomerUserName" class="form-label">UserName</label>
                                <input type="text" class="form-control" id="txtCustomerUserName" placeholder="nimal" name="username">
                            </div>
                            <div class="col-md-6">
                                <label for="txtCustomerPassword" class="form-label">Password</label>
                                <input type="password" class="form-control" id="txtCustomerPassword" name="password">
                            </div>

                            <div class="col-md-6">
                                <label for="txtCustomerNic" class="form-label">NIC</label>
                                <input type="text" class="form-control" id="txtCustomerNic" placeholder="983546632V" name="nic">
                            </div>
                            <div class="col-md-6">
                                <label for="txtCustomerDrivingLicenseNo" class="form-label">Driving License No</label>
                                <input type="text" class="form-control" id="txtCustomerDrivingLicenseNo" placeholder="B386055" name="drivingLicense">
                            </div>

                            <div class="mb-3">
                                <label for="formNIC" class="form-label">Upload NIC</label>
                                <input class="form-control" type="file" id="formNIC" multiple>
                            </div>
                            <div class="mb-3">
                                <label for="formDrivingLicenseNo" class="form-label">Upload Driving License No</label>
                                <input class="form-control" type="file" id="formDrivingLicenseNo">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary col-3" id="btnCustomerSignUp">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<script src="assets/js/jquery-3.6.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script>
    $("#loginFormContainer").click(function () {
        $("#signUpForm").css('display','block');
    });

    $("#lnkSignUpForm").click(function () {
        $("#signUpForm").css('display','none');
    });

    let baseURL = "http://localhost:8080/EasyCarRentalApp/";

    $("#btnCustomerSignUp").click(function (){
        var formData = $("#customerRegisterForm").serialize();
        console.log(formData);
        $.ajax ({
            url: baseURL+"customer",
            method: "post",
            data: formData,
            dataType: "json",
            success: function (resp){
                alert(resp.message);
                // $("#signUpForm").close;
                $("#signUpForm").css('display','none');

            },
            error: function (error) {
                var jsObject = JSON.parse(error.responseText);
                alert(jsObject.message);
            }
        });
    });

</script>
</body>
</html>