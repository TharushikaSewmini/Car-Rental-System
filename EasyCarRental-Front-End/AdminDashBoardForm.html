<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dash Board</title>

    <link rel="icon" href="assets/images/logo.png">
    <meta content="width=device-width initial-scale=1" name="viewport">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/css/all.min.css">

    <link href="assets/styles/AdminDashBoardForm.css" rel="stylesheet">
</head>
<body>
<!--Nav Bar-->
<nav class="navbar navbar-expand-lg bg-light" id="navbar">
    <div class="container-fluid">
        <img src="assets/images/logo.png" alt="Logo" width="80" height="60" class="d-inline-block align-text-top">
        <a class="navbar-brand" href="#">Easy Car Rental</a>
        <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item ms-3">
                    <a class="nav-link active" aria-current="page" href="#" style="font-weight: bold;" id="linkDashBoard">DashBoard</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkCars">Cars</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkCustomers">Customers</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkDrivers">Drivers</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkBookingRequest">Booking Request</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkBooking">Booking</a>
                </li>
                <li class="nav-item ms-3">
                    <a class="nav-link active" href="#" style="font-weight: bold;" id="linkPayment">Payment</a>
                </li>
            </ul>

            <!--navbar sign up,log out-->
            <ul class="navbar-nav me-6 mb-2 mb-lg-0" id="navbarSideContent" style="color: #1D314F;">
                <li class="nav-item me-4">
                    <i class="fa-solid fa-user"></i>
                    <a class="nav-link" href="#" style="padding-left: 0; display: inline-block; font-weight: bold; color: #1D314F;">Sign Up</a>
                </li>

                <li class="nav-item">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <a class="nav-link" href="#" style="padding-left: 0; display: inline-block; font-weight: bold; color: #1D314F;">Log Out</a>
                </li>

            </ul>
        </div>
    </div>
</nav>


<main class="container-fluid">

<!---------------DashBoard Page------------------>
    <!----Reg Users, Available Cars, Available Drivers, Total Bookings, Active Bookings, Maintenance Cars count----->
    <section class="mt-3" id="dashBoardPage">
        <h1 class="mt-3" style="text-align: center">Admin DashBoard</h1>

        <div class="row gy-3 mx-4" id="displayContainer">
            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color: #3498db">Registered Users</div>
                    <i class="cFont fa-solid fa-users mt-3" style="color: #3498db"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>

            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color:#1abc9c">Available Cars</div>
                    <i class="cFont fa-solid fa-car mt-3" style="color: #1abc9c"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>

            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color: #9b59b6">Bookings</div>
                    <i class="cFont fa-solid fa-layer-group mt-3" style="color: #9b59b6"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>

            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color: #e67e22">Available Drivers</div>
                    <i class="cFont fa-solid fa-user-group mt-3" style="color: #e67e22"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>

            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color: #f1c40f">Active Bookings</div>
                    <i class="cFont fa-solid fa-key mt-3" style="color: #f1c40f"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>

            <div class="col-3 me-3">
                <div class="card mt-3 col-10 text-center mx-auto">
                    <div class="cName" style="background-color: #ff5542">Maintenance Cars</div>
                    <i class="cFont fa-solid fa-screwdriver-wrench mt-3" style="color: #ff5542"></i>
                    <h2 class="card-text mt-2 mb-3">00</h2>
                </div>
            </div>
        </div>

    </section>

<!--------------Car Page------------------>
    <section class="container" id="carPage">
        <h1 class="mt-3" style="text-align: center">Cars Management</h1>

        <!----------Car Form-------->
        <form class="row g-3 mt-2" id="carForm">
            <div class="col-md-3">
                <label for="txtRegNo" class="form-label">Registration No</label>
                <input type="text" class="form-control" id="txtRegNo" name="regNo">
            </div>
            <div class="col-md-3">
                <label for="txtBrand" class="form-label">Brand</label>
                <input type="text" class="form-control" id="txtBrand" name="brand">
            </div>

            <div class="col-3">
                <label for="txtNoOfPassengers" class="form-label">No of Passengers</label>
                <input type="number" class="form-control" id="txtNoOfPassengers" name="noOfPassengers">
            </div>

            <div class="col-3 mt-3">
                <label for="selectColor" class="form-label">Color</label>
                <input type="color" class="form-control" id="selectColor" name="color">
            </div>

            <div class="col-md-3 mt-3">
                <label for="selectType" class="form-label">Type</label>
                <select id="selectType" class="form-select" name="type">
                    <option selected>Choose...</option>
                    <option>General</option>
                    <option>Premium</option>
                    <option>Luxury</option>
                </select>
            </div>

            <div class="col-md-3 mt-3">
                <label for="selectTransmissionType" class="form-label">Transmission Type</label>
                <select id="selectTransmissionType" class="form-select" name="transmissionType">
                    <option selected>Choose...</option>
                    <option>Manual</option>
                    <option>Auto</option>
                </select>
            </div>

            <div class="col-md-3 mt-3">
                <label for="selectFuelType" class="form-label">Fuel Type</label>
                <select id="selectFuelType" class="form-select" name="fuelType">
                    <option selected >Choose...</option>
                    <option>Diesel</option>
                    <option>Petrol</option>
                </select>
            </div>

            <div class="col-3">
                <label for="selectCarImages" class="form-label">Upload Car Images</label>
                <input class="form-control" type="file" id="selectCarImages" multiple>
            </div>

            <!------Images of Car------->
            <div class="col-md-3" style="width: 200px; height: 120px; border: 1px solid black;"></div>
            <div class="col-md-3"></div>
            <div class="col-md-3"></div>
            <div class="col-md-3"></div>

            <div class="col-md-3 mt-3">
                <label for="txtDailyRate" class="form-label">Daily Rate</label>
                <input type="number" class="form-control" id="txtDailyRate" name="dailyRate">
            </div>

            <div class="col-md-3 mt-3">
                <label for="txtMonthlyRate" class="form-label">Monthly Rate</label>
                <input type="number" class="form-control" id="txtMonthlyRate" name="monthlyRate">
            </div>

            <div class="col-md-3 mt-3">
                <label for="txtLossDamageWaiver" class="form-label">Loss Damage Waiver</label>
                <input type="number" class="form-control" id="txtLossDamageWaiver" name="lossDamageWaiver">
            </div>

            <div class="col-md-3 mt-3">
                <label for="txtFreeKMForDay" class="form-label">Free KM for Day</label>
                <input type="number" class="form-control" id="txtFreeKMForDay" name="freeKMForDay">
            </div>

            <div class="col-md-3 mt-3">
                <label for="txtFreeKMForMonth" class="form-label">Free KM for Month</label>
                <input type="number" class="form-control" id="txtFreeKMForMonth" name="freeKMForMonth">
            </div>

            <div class="col-md-3 mt-3">
                <label for="txtPriceForExtraKM" class="form-label">Price Per Extra KM</label>
                <input type="number" class="form-control" id="txtPriceForExtraKM" name="priceForExtraKM">
            </div>

            <div class="col-md-10 mt-4 mx-auto">
                <button type="button" class="btn btn-success col-2 ms-5" id="btnSaveCar">Save</button>
                <button type="button" class="btn btn-primary col-2 ms-2" id="btnUpdateCar">Update</button>
                <button type="button" class="btn btn-danger col-2 ms-2" id="btnDeleteCar">Delete</button>
                <button type="button" class="btn btn-warning col-2 ms-2" id="btnGetAllCars">View All Cars</button>
                <button type="button" class="btn btn-info col-2 ms-2" id="btnAddNewCar">Add New Car</button>
            </div>
        </form>

        <form class="d-flex mt-5 col-5 mx-auto" role="search">
            <input class="form-control me-2" type="search" id="txtSearchCar" placeholder="Input Car Reg No" aria-label="Search">
            <button class="btn btn-secondary" type="button" id="btnSearchCar" style="color: white;">Search</button>
        </form>


        <!-------Car Table------->
        <section class="mt-4">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Reg No</th>
                    <th scope="col">Brand</th>
                    <th scope="col">Type</th>
                    <th scope="col">Color</th>
                    <th scope="col">No of Passengers</th>
                    <th scope="col">Transmission Type</th>
                    <th scope="col">Fuel Type</th>
                    <th scope="col">Daily Rate</th>
                    <th scope="col">Monthly Rate</th>
                    <th scope="col">Loss Damage Waiver</th>
                    <th scope="col">Free KM for a Day</th>
                    <th scope="col">Free KM for a Month</th>
                    <th scope="col">Price for Extra KM</th>
                </tr>
                </thead>
                <tbody id="tblCar">
                <tr></tr>
                </tbody>
            </table>
        </section>

    </section>

    <!--------------Customer Page------------------>
    <section class="container" id="customerPage">
        <h1 class="mt-3" style="text-align: center">Customer Details</h1>

        <!--Customer Search-->
        <div class="d-flex col-5 m-auto" role="search">
            <input class="form-control me-2" type="search" id="txtSearchCustomer" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="button" id="searchCustomer">Search</button>
        </div>

        <!-------Customer Details Table------->
        <section class="mt-4">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Customer ID</th>
                    <th scope="col">Customer Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Contact No</th>
                    <th scope="col">Email</th>
                    <th scope="col">NIC</th>
                    <th scope="col">Driving License Number</th>
                </tr>
                </thead>
                <tbody id="tblCustomerDetails">
                <tr></tr>
                </tbody>
            </table>
        </section>

    </section>

    <!--------------Driver Page------------------>
    <section class="container" id="driverPage">
        <h1 class="mt-3" style="text-align: center">Driver Management</h1>

        <!--Driver form-->
        <section id="driverForm">
            <div class="mb-1">
                <label for="txtDriverID" class="form-label fw-bold">Driver ID</label>
                <input class="form-control" type="text" id="txtDriverID" name="driverId">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDriverID"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtDriverName" class="form-label fw-bold">Name</label>
                <input class="form-control" type="text" id="txtDriverName" name="driverName">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDriverName"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtDriverContact" class="form-label fw-bold">Contact</label>
                <input class="form-control" type="text" id="txtDriverContact" name="driverContact">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDriverContact"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtDriverEmail" class="form-label fw-bold">Email</label>
                <input class="form-control" id="txtDriverEmail" type="text" name="driverEmail">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDriverEmail"></span>
            </div>

            <div class="mt-4">
                <button type="button" class="btn btn-success" id="btnSaveDriver">Save</button>
                <button type="button" class="btn btn-primary" id="btnUpdateDriver">Update</button>
                <button type="button" class="btn btn-danger" id="btnDeleteDriver">Delete</button>
            </div>
        </section>

        <!--Driver Search-->
        <aside id="driverSearch">
            <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" id="txtSearchDriver" placeholder="Input Driver ID/Name" aria-label="Search">
                <button class="btn btn-secondary" type="button" id="btnSearchDriver" style="color: white;">Search</button>
            </form>

            <div class="d-grid gap-2 col-6 mx-auto mt-5">
                <button type="button" class="btn btn-info" id="btnNewDriver">New Driver</button>
                <button type="button" class="btn btn-warning" id="btnViewAllDrivers">View All Drivers</button>
            </div>
        </aside>

        <!--Driver Table-->
        <section class="mt-4">
            <table class="table table-striped">
                <thead style="background-color: #8E44AD; color: white;">
                <tr>
                    <th scope="col">Driver ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Contact</th>
                    <th scope="col">Email</th>
                </tr>
                </thead>
                <tbody id="tblDriver">
                <tr></tr>
                </tbody>
            </table>
        </section>

    </section>

    <!--------------Rent Request Page------------------>
    <section class="container" id="bookingRequestPage">
        <h1 class="mt-3" style="text-align: center">Rent Request Management</h1>

        <!--Rent Request Table-->
        <section class="mt-4">
            <table class="table table-striped">
                <thead style="background-color: #8E44AD; color: white;">
                <tr>
                    <th scope="col">Booking ID</th>
                    <th scope="col">Booking Date</th>
                    <th scope="col">Customer ID</th>
                    <th scope="col">Car ID</th>
                    <th scope="col">Driver ID</th>
                    <th scope="col">Pickup Date</th>
                    <th scope="col">Return Date</th>
                    <th scope="col">Status</th>
                    <th scope="col">Request Accept</th>
                    <th scope="col">Request Deny</th>
                </tr>
                </thead>
                <tbody id="tblRequest">
                <tr></tr>
                </tbody>
            </table>
        </section>

    </section>

    <!--------------Booking Page------------------>
    <section class="container" id="bookingPage">
        <h1 class="mt-3" style="text-align: center">Booking Management</h1>

        <!--Booking Table-->
        <section class="mt-4">
            <table class="table table-striped">
                <thead style="background-color: #8E44AD; color: white;">
                <tr>
                    <th scope="col">Booking ID</th>
                    <th scope="col">Booking Date</th>
                    <th scope="col">Customer ID</th>
                    <th scope="col">Car ID</th>
                    <th scope="col">Driver ID</th>
                    <th scope="col">Pickup Date</th>
                    <th scope="col">Return Date</th>
                    <th scope="col">Status</th>
                </tr>
                </thead>
                <tbody id="tblBooking">
                <tr></tr>
                </tbody>
            </table>
        </section>

    </section>

    <!--------------Payment Page------------------>
    <section  class="container" id="paymentPage">
        <h1 class="mt-3" style="text-align: center">Payment Management</h1>

        <!--Driver form-->
        <section id="paymentForm">
            <div class="mb-1">
                <label for="txtBookingID" class="form-label fw-bold">Booking ID</label>
                <input class="form-control" type="text" id="txtBookingID" name="bookingId">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblBookingID"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtDate" class="form-label fw-bold">Date</label>
                <input class="form-control" type="text" id="txtDate" name="date">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDate"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtPickupDate" class="form-label fw-bold">Pickup Date</label>
                <input class="form-control" type="text" id="txtPickupDate" name="pickupDate">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblPickupDate"></span>
            </div>
            <div class="mb-1 mt-1">
                <label for="txtReturnDate" class="form-label fw-bold">Return Date</label>
                <input class="form-control" id="txtReturnDate" type="text" name="return Date">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblReturnDate"></span>
            </div>

            <div class="mb-1 mt-1">
                <label for="txtViewDriverId" class="form-label fw-bold">Driver ID</label>
                <input class="form-control" id="txtViewDriverId" type="text" name="driverId">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblViewDriverId"></span>
            </div>

            <div class="mb-1 mt-1">
                <label for="txtDamageCost" class="form-label fw-bold">Damage Cost</label>
                <input class="form-control" id="txtDamageCost" type="text" name="damageCost">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblDamageCost"></span>
            </div>

            <div class="mb-1 mt-1">
                <label for="txtRentalCost" class="form-label fw-bold">Rental Cost</label>
                <input class="form-control" id="txtRentalCost" type="text" name="rentalCost">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblRentalCost"></span>
            </div>

            <div class="mb-1 mt-1">
                <label for="txtTotal" class="form-label fw-bold">Total Cost</label>
                <input class="form-control" id="txtTotal" type="text" name="total">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblTotal"></span>
            </div>

            <div class="mb-1 mt-1">
                <label for="txtBalance" class="form-label fw-bold">Balance</label>
                <input class="form-control" id="txtBalance" type="text" name="balance">
                <span class="control-error text-danger" style="font-size: 13px;" id="lblBalance"></span>
            </div>

            <div class="mt-4">
                <button type="button" class="btn btn-success" id="btnCalculatePayment">Calculate Payment</button>
                <button type="button" class="btn btn-primary" id="btnSubmitPayment">Payment Submit</button>
                <button type="button" class="btn btn-danger" id="btnCancel">Cancel</button>
            </div>
        </section>
    </section>



</main>

<script src="assets/js/jquery-3.6.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

<script src="assets/js/Navigations.js"></script>
<script>

    let baseURL = "http://localhost:8080/EasyCarRentalApp/";

    loadAllCars();

    //----------------Bind Data to InputFields--------------
    function bindRowClickEvents() {
        $("#tblCar>tr").click(function () {
            let regNo = $(this).children(":eq(0)").text();
            let brand = $(this).children(":eq(1)").text();
            let type = $(this).children(":eq(2)").text();
            let color = $(this).children(":eq(3)").text();
            let noOfPassengers = $(this).children(":eq(4)").text();
            let transmissionType = $(this).children(":eq(5)").text();
            let fuelType = $(this).children(":eq(6)").text();
            let dailyRate = $(this).children(":eq(7)").text();
            let monthlyRate = $(this).children(":eq(8)").text();
            let lossDamageWaiver = $(this).children(":eq(9)").text();
            let freeKMForDay = $(this).children(":eq(10)").text();
            let freeKMForMonth = $(this).children(":eq(11)").text();
            let priceForExtraKM = $(this).children(":eq(12)").text();
            // let status = $(this).children(":eq(3)").text();

            $("#txtRegNo").val(regNo);
            $("#txtBrand").val(brand);
            $("#selectType").val(type);
            $("#selectColor").val(color);
            $("#txtNoOfPassengers").val(noOfPassengers);
            $("#selectTransmissionType").val(transmissionType);
            $("#selectFuelType").val(fuelType);
            $("#txtDailyRate").val(dailyRate);
            $("#txtMonthlyRate").val(monthlyRate);
            $("#txtLossDamageWaiver").val(lossDamageWaiver);
            $("#txtFreeKMForDay").val(freeKMForDay);
            $("#txtFreeKMForMonth").val(freeKMForMonth);
            $("#txtPriceForExtraKM").val(priceForExtraKM);
        });
    }

    //----------------Clear InputFields--------------
    function setTextFieldValues(regNo,brand,type,color,noOfPassengers,transmissionType,fuelType,dailyRate,monthlyRate,lossDamageWaiver,freeKMForDay,freeKMForMonth,priceForExtraKM){
        $("#txtRegNo").val(regNo);
        $("#txtBrand").val(brand);
        $("#selectType").val(type);
        $("#selectColor").val(color);
        $("#txtNoOfPassengers").val(noOfPassengers);
        $("#selectTransmissionType").val(transmissionType);
        $("#selectFuelType").val(fuelType);
        $("#txtDailyRate").val(dailyRate);
        $("#txtMonthlyRate").val(monthlyRate);
        $("#txtLossDamageWaiver").val(lossDamageWaiver);
        $("#txtFreeKMForDay").val(freeKMForDay);
        $("#txtFreeKMForMonth").val(freeKMForMonth);
        $("#txtPriceForExtraKM").val(priceForExtraKM);
        $("#selectCarImages").val(null);
    }

    //----------------Save Car--------------
    $("#btnSaveCar").click(function (){
        var formData = $("#carForm").serialize();
        console.log(formData);
        $.ajax({
            url: baseURL+"car",
            method: "post",
            data: formData,
            dataType: "json",
            success: function (resp){
                alert(resp.message);
                setTextFieldValues("","","","");
                loadAllCars();
            },
            error: function (error){
                var jsObject = JSON.parse(error.responseText);
                alert(jsObject);
            }
        });
    });


    //----------------Update Car--------------
    $("#btnUpdateCar").click(function (){
        let regNo = $("#txtRegNo").val();
        let brand = $("#txtBrand").val();
        let type =  $("#selectType").val();
        let color = $("#selectColor").val();
        let noOfPassengers = $("#txtNoOfPassengers").val();
        let transmissionType = $("#selectTransmissionType").val();
        let fuelType = $("#selectFuelType").val();
        let dailyRate = $("#txtDailyRate").val();
        let monthlyRate = $("#txtMonthlyRate").val();
        let lossDamageWaiver = $("#txtLossDamageWaiver").val();
        let freeKMForDay = $("#txtFreeKMForDay").val();
        let freeKMForMonth = $("#txtFreeKMForMonth").val();
        let priceForExtraKM = $("#txtPriceForExtraKM").val();


        var car= {
            regNo: regNo,
            brand: brand,
            type: type,
            color: color,
            noOfPassengers: noOfPassengers,
            transmissionType: transmissionType,
            fuelType: fuelType,
            dailyRate: dailyRate,
            monthlyRate: monthlyRate,
            lossDamageWaiver: lossDamageWaiver,
            freeKMForDay: freeKMForDay,
            freeKMForMonth: freeKMForMonth,
            priceForExtraKM: priceForExtraKM
        }

        $.ajax({
            url: baseURL+"car",
            method: "put",
            contentType: "application/json",
            data: JSON.stringify(car),
            dataType: "json",
            success: function (resp){
                alert(resp.message);
                loadAllCars();
            },
            error: function (error){
                var jsObject = JSON.parse(error.responseText).message;
                alert(jsObject.message);
            }
        });
    });


    //----------------Delete Car--------------
    $("#btnDeleteCar").click(function (){
        let regNo = $("#txtRegNo").val();
        $.ajax({
            url: baseURL+"car?regNo="+regNo+"",
            method: "delete",
            dataType: "json",
            success: function (resp){
                alert(resp.message);
                loadAllCars();
            },
            error: function (error){
                alert(JSON.parse(error.responseText).message);
            }
        });
    });


    //----------------Search Car--------------
    $("#btnSearchCar").click(function () {
        let typedRegNo = $("#txtSearchCar").val();
        $.ajax({
            url: baseURL+"car?regNo="+typedRegNo+"",
            method: "get",
            dataType: "json",
            success: function (resp){
                alert(resp.message);
                console.log(resp.data);
                var car = resp.data;
                setTextFieldValues(car.regNo, car.brand, car.type, car.color, car.noOfPassengers, car.transmissionType, car.fuelType,
                    car.dailyRate, car.monthlyRate, car.lossDamageWaiver, car.freeKMForDay, car.freeKMForMonth, car.priceForExtraKM);
            },
            error: function (error){
                alert(JSON.parse(error.responseText).message);
            }
        });
    });


    //----------------Load Data to Table--------------
    $("#btnGetAllCars").click(function (){
        loadAllCars();
    });


    function loadAllCars(){
        $("#tblCar").empty();
        $.ajax ({
            url: baseURL+"car",
            dataType: "json",
            success: function (resp) {
                console.log(resp);
                for (let car of resp.data) {
                    var row = '<tr><td>'+car.regNo+'</td><td>'+car.brand+'</td><td>'+car.type+'</td><td>'+car.color+'</td><td>'+car.noOfPassengers+'</td><td>'+car.transmissionType+'</td>' +'<td>'+car.fuelType+'</td><td>'
                        +car.dailyRate+'</td><td>'+car.monthlyRate+'</td><td>'+car.lossDamageWaiver+'</td><td>'+car.freeKMForDay+'</td><td>'+car.freeKMForMonth+'</td><td>'+car.priceForExtraKM+'</td></tr>';
                    $("#tblCar").append(row);
                }
                bindRowClickEvents();
                setTextFieldValues("","","","");
                $("#txtRegNo").focus();
            },
            error: function (error){
                var jsObject = JSON.parse(error.responseText).message;
                alert(jsObject.message);
            }
        });
    }
</script>
</body>
</html>